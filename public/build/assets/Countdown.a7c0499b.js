import{r as n,R as e}from"./app.556a3bcf.js";import"./Editor.0e40566e.js";import"./react-toastify.esm.ea0b512f.js";import{C as v}from"./ControlField.e500cd2d.js";import{T as u}from"./flip.min.3ae177d1.js";import{F as f,S as E,O as w,h,D as g}from"./DatePicker2.cdfe3327.js";import{M as x}from"./MenuItem.96393e74.js";import"./index.04ccc04b.js";import"./clsx.m.256e9345.js";import"./switch.ba69350b.js";import"./keyboard.21bc586a.js";import"./dayjs.min.5ab57970.js";import"./CSSTransition.e1bd1bc9.js";import"./Transition.b01bfd7b.js";import"./popper.824c9986.js";const k=({value:t})=>{const r=n.exports.useRef(),a=n.exports.useRef(),[o,d]=n.exports.useState(t);return n.exports.useEffect(()=>{const c=l=>{a.current=l},m=r.current,i=a.current;return u.DOM.create(m,{value:t,didInit:c}),()=>u.DOM.destroy(i)},[t]),n.exports.useEffect(()=>{const c=new Date;console.log("offset",c);const m=u.helper.duration(parseInt(o.toString()),"minutes"),i=new Date(c.setMilliseconds(c.getMilliseconds()+m)),l=u.count.down(i,{format:["h","m","s"]});return l.onupdate=function(s){d(s)},()=>{l.timer.stop()}},[t]),n.exports.useEffect(()=>{a.current&&(a.current.value=o)},[o]),e.createElement("div",{ref:r,className:"tick"},e.createElement("div",{"data-repeat":"true"},e.createElement("span",{"data-view":"flip"})))},N=({value:t})=>{const r=n.exports.useRef(),a=n.exports.useRef(),[o,d]=n.exports.useState(t);return n.exports.useEffect(()=>{const c=l=>{a.current=l},m=r.current,i=a.current;return u.DOM.create(m,{value:t,didInit:c}),()=>u.DOM.destroy(i)},[t]),n.exports.useEffect(()=>{const c=new Date(o),m=u.count.down(c,{format:["h","m","s"],server:!1});return m.onupdate=function(i){d(i)},()=>{m.timer.stop()}},[t]),n.exports.useEffect(()=>{a.current&&(a.current.value=o)},[o]),e.createElement("div",{ref:r,className:"tick"},e.createElement("div",{"data-repeat":"true"},e.createElement("span",{"data-view":"flip"})))};function A({fieldList:t,index:r,active:a,updateField:o,isPublic:d=!1}){const[c,m]=n.exports.useState(t[r]),i=[{name:"Fixed Time",code:"fixed"},{name:"Evergreen",code:"evergreen"}];function l(s,p){m({...c,[s]:p}),t[r]={...t[r],[s]:p},o(r,t[r])}return r===a?e.createElement("div",{className:"flex-auto px-6 py-1 field-active border-indigo-600"},e.createElement("div",null,e.createElement("div",null,e.createElement("div",{className:"flex flex-wrap"},e.createElement("div",{className:"w-1/2"},e.createElement("div",{className:"font-black text-lg -ml-2 px-2 text-gray-800 mb-5 flex"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})),e.createElement("div",{className:"ml-1"},"COUNTDOWN")))),e.createElement("div",{className:"flex flex-wrap"},e.createElement("div",{className:"w-1/2"},e.createElement("div",{className:"mb-4"},e.createElement("label",{htmlFor:""},"Tipe Countdown"),e.createElement("div",{className:"relative rounded-md shadow-sm"},e.createElement(f,{sx:{m:1,width:"25ch"},variant:"outlined"},e.createElement(E,{id:"demo-simple-select",value:t[r].countdown_type,onChange:s=>l("countdown_type",s.target.value)},i.map((s,p)=>e.createElement(x,{key:p,value:s.code},s.name))))))),e.createElement("div",{className:"w-1/2 pl-1"},e.createElement("div",{className:"mb-4"},e.createElement("label",{htmlFor:""},"Waktu Expire"),t[r].countdown_type==="evergreen"?e.createElement("div",{className:"relative rounded-md shadow-sm"},e.createElement(f,{sx:{m:1,width:"25ch"},variant:"outlined"},e.createElement(w,{id:"outlined-adornment-weight",type:"number",value:t[r].evergreen_time,onChange:s=>l("evergreen_time",s.target.value),endAdornment:e.createElement(h,{position:"end"},"minutes"),"aria-describedby":"outlined-weight-helper-text",inputProps:{"aria-label":"weight"}}))):e.createElement("div",{className:"relative rounded-md shadow-sm"},e.createElement(f,{sx:{m:1,width:"25ch"},variant:"outlined"},e.createElement(g,{name:"fixed_time",datetime:t[r].fixed_time,onChanged:l}))))))),e.createElement(v,{key:r,fieldList:t,index:r,updateField:o}))):e.createElement("div",{className:"flex-auto px-6 py-1",onClick:()=>d?goTo():o(r,t[r])},e.createElement("div",{className:"my-3"},e.createElement("div",null,e.createElement("div",{className:"text-6xl text-center flex w-full items-center justify-center"},t[r].countdown_type==="evergreen"?e.createElement(k,{value:t[r].evergreen_time}):e.createElement(N,{value:t[r].fixed_time})))))}export{A as default};
