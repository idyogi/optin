import{r as y,u as g,R as e}from"./app.556a3bcf.js";import{C as k}from"./ControlField.e500cd2d.js";import"./switch.ba69350b.js";import"./keyboard.21bc586a.js";function L({fieldList:s,submissionId:p,index:r,active:h,isPublic:f,updateField:b,publicSubmit:w}){const[u,C]=y.exports.useState(s[r]),{data:n,setData:c}=g({label:u.label,placeholder:u.placeholder,required:u.required,numbers:u.numbers}),i=g([]);function x(){i.post(window.location.origin+"/submission/"+p+"/whatsapp-rotator",{onSuccess:o=>{}})}function v(){c("numbers",[...n.numbers,u.numbers[0]]),s[r].numbers=[...n.numbers,u.numbers[0]],b(r,s[r])}function E(o){const t=[...n.numbers];t.splice(o,1),c("numbers",t),s[r].numbers=t,b(r,s[r])}function d(o,t,a){o==="number"&&c("numbers",n.numbers.map((l,m)=>m===a?{...l,number:t}:l)),o==="name"&&c("numbers",n.numbers.map((l,m)=>m===a?{...l,name:t}:l)),o==="portion"&&c("numbers",n.numbers.map((l,m)=>m===a?{...l,portion:t}:l)),o==="text"&&c("numbers",n.numbers.map((l,m)=>m===a?{...l,text:t}:l)),o==="pause"&&c("numbers",n.numbers.map((l,m)=>m===a?{...l,pause:t}:l)),console.log(o,t,a),s[r].numbers[a]={...s[r].numbers[a],[o]:t},b(r,s[r])}function N(o,t){c(o,t);const a=[...s];o==="label"&&(a[r].label=t),o==="placeholder"&&(a[r].placeholder=t),o==="required"&&(a[r].required=t),b(r,a[r])}return f?e.createElement("div",{className:"flex-auto px-6 py-1"},e.createElement("div",{className:"my-3"},e.createElement("div",null,p&&e.createElement("button",{type:"submit",onClick:()=>x(),disabled:i.processing,className:"bg-indigo-600 w-full text-lg mt-1 inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-semibold text-white"},e.createElement("div",{className:"mr-1"},e.createElement("div",null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z"})))),i.processing?"Loading...":n.label),!p&&e.createElement("button",{type:"submit",onClick:w,disabled:i.processing,className:"bg-indigo-600 w-full text-lg mt-1 inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-semibold text-white"},e.createElement("div",{className:"mr-1"},e.createElement("div",null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z"})))),i.processing?"Loading...":n.label)))):r===h?e.createElement("div",{className:"flex-auto px-6 py-1 field-active border-indigo-600"},e.createElement("div",null,e.createElement("div",{className:"flex flex-wrap"},e.createElement("div",{className:"w-1/2"},e.createElement("div",{className:"font-black text-lg -ml-2 px-2 text-gray-800 mb-5 flex"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})),e.createElement("div",{className:"ml-1"},u.title)))),e.createElement("div",{className:"mb-4"},e.createElement("label",{htmlFor:""},"Call to Action"),e.createElement("input",{type:"text",onChange:o=>{N("label",o.target.value)},value:n.label,className:"focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent block appearance-none w-full py-1 px-2 mb-1 text-base leading-normal bg-white text-gray-800 border border-gray-200 rounded"})),e.createElement("div",{className:"mb-3 mt-3"},"Daftar Whatsapp ",e.createElement("span",{onClick:()=>v(),className:"ml-3 inline-block align-middle text-center select-none border font-normal whitespace-no-wrap rounded no-underline py-1 px-2 leading-tight text-xs text-blue-600 border-blue-600 hover:bg-blue-600 hover:text-white bg-white hover:bg-blue-600"},e.createElement("i",{className:"fas fa-plus mr-1"})," tambah pilihan")),n.numbers.map((o,t)=>e.createElement("div",{key:t,className:`mb-3 ${n.numbers[t].pause?"border-gray-300 focus:border-blue-300 w-full shadow-sm dark:bg-gray-800 dark:text-gray-300 dark:border-gray-900 opacity-50":""}`},e.createElement("div",{className:"relative items-stretch w-full mb-3"},e.createElement("input",{type:"text",onChange:a=>{d("number",a.target.value,t)},value:n.numbers[t].number,className:"focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent block appearance-none w-full py-1 px-2 mb-1 text-base leading-normal bg-white text-gray-800 border border-gray-200 rounded",placeholder:"6282xxx"}),e.createElement("div",{className:"flex"},e.createElement("input",{type:"text",onChange:a=>{d("name",a.target.value,t)},value:n.numbers[t].name,className:"focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent block appearance-none w-32 py-1 px-2 mb-1 text-base leading-normal bg-white text-gray-800 border border-gray-200 rounded",placeholder:"CS Name"}),e.createElement("input",{onChange:a=>{d("portion",a.target.value,t)},type:"text",value:n.numbers[t].portion,className:"focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent block appearance-none w-32 ml-1 py-1 px-2 mb-1 text-base leading-normal bg-white text-gray-800 border border-gray-200 rounded",placeholder:"1"}),e.createElement("div",{className:"input-group-append flex"},e.createElement("button",{onClick:()=>d("pause",!n.numbers[t].pause,t),className:`${n.numbers[t].pause?"text-blue-600 border-blue-600 hover:bg-blue-600 hover:text-white bg-white hover:bg-blue-700":"text-red-600 border-red-600 hover:bg-red-600 hover:text-white bg-white hover:bg-red-700"}inline-block ml-1 align-middle text-center select-none border font-normal whitespace-no-wrap rounded py-1 px-3 leading-normal no-underline`,type:"button"},e.createElement("i",{className:`fa ${n.numbers[t].pause?"fa-user":"fa-user-slash"}`})),e.createElement("button",{onClick:()=>E(t),className:"inline-block ml-1 align-middle text-center select-none border font-normal whitespace-no-wrap rounded py-1 px-3 leading-normal no-underline text-red-600 border-red-600 hover:bg-red-600 hover:text-white bg-white hover:bg-red-700",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})))))),e.createElement("textarea",{onChange:a=>{d("text",a.target.value,t)},value:n.numbers[t].text,className:"focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent block appearance-none w-full py-1 px-2 mb-1 text-base leading-normal bg-white text-gray-800 border border-gray-200 rounded",type:"text",placeholder:"Pesan"}))),e.createElement(k,{key:r,fieldList:s,index:r,updateField:b}))):e.createElement("div",{className:"flex-auto px-6 py-1",onClick:()=>b(r,s[r])},e.createElement("div",{className:"my-3"},e.createElement("div",null,e.createElement("button",{type:"submit",className:"bg-indigo-600 w-full text-lg mt-1 inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-semibold text-white"},e.createElement("div",{className:"mr-1"},e.createElement("div",null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z"})))),n.label))))}export{L as default};
